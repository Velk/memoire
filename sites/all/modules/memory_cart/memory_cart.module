<?php

///**
// * Implementation of hook_menu()
// *
// * @return array
// */
//function memory_cart_menu() {
//    $items = array();
//
//    $items['map'] = array(
//        'title' => t('Memory map'),
//        'description' => t('Memory - map'),
//        'page callback' => 'memory_map_block_view',
//        'access callback' => TRUE,
//        'type' => MENU_NORMAL_ITEM,
//    );
//
//    return $items;
//}

/**
 * Implement hook_theme()
 *
 * @param $existing
 * @param $type
 * @param $theme
 * @param $path
 * @return array
 */
function memory_cart_theme($existing, $type, $theme, $path) {
    return array(
        'tpl_memory_cart' => array(
            'template' => 'tpl/memory_cart',
            'path' => drupal_get_path('module', 'memory_cart'),
            'variables' => array('infos' => NULL),
        ),
    );
}

/**
 * @return mixed
 */
function memory_cart_block_info() {

    $blocks['memory_cart'] = array(
        'info' => t('Memory cart'),
        'weight' => 1,
        'status' => 1,
        'region' => 'content',
        'visibility' => BLOCK_VISIBILITY_LISTED,
        'pages' => 'product/*',
    );

    return $blocks;
}

/**
 * @param string $delta
 * @return array
 * @throws Exception
 */
function memory_cart_block_view($delta = '') {

    $block = array();

    switch ($delta) {
        case 'memory_cart':

            $data['title'] = "Memory - World cart";

            // Link the template
            $block['content']['#markup'] = theme('tpl_memory_cart', $data);

            // Link a css file
            $block['content']['#attached']['css'][] = array(
                'data' => drupal_get_path('module', 'memory_cart').'/css/memory_cart.css',
                'type' => 'file'
            );

            // Link a js file
            $block['content']['#attached']['js'][] = array(
                'data' => drupal_get_path('module', 'memory_cart').'/js/memory_cart.js',
                'type' => 'file'
            );

            break;
    }

    return $block;
}